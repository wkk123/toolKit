<!--quick-test.wxml-->
<view class="container">
  <!-- æ ‡é¢˜ -->
  <view class="header">
    <text class="header-title">â±ï¸ å¿«é€Ÿæ£€æµ‹(3åˆ†é’Ÿ)</text>
  </view>

  <!-- è¿›åº¦æ¡å’Œå‰©ä½™æ—¶é—´ -->
  <view class="progress-section">
    <view class="progress-bar-container">
      <view class="progress-bar">
        <view class="progress-fill" style="width: {{progress}}%"></view>
      </view>
      <text class="progress-text">[{{progress.toFixed(0)}}%]</text>
    </view>
    <view class="time-info">
      <text class="time-label">å‰©ä½™æ—¶é—´ï¼š</text>
      <text class="time-value">{{remainingTimeText}}</text>
    </view>
  </view>

  <!-- å½“å‰æµ‹è¯• -->
  <view class="current-test">
    <view class="test-header">
      <text class="test-icon">ğŸ”„</text>
      <text class="test-label">å½“å‰æµ‹è¯•ï¼š</text>
    </view>
    <text class="test-title">{{testSteps[currentStep].title}}</text>
  </view>

  <!-- æµ‹è¯•æ˜¾ç¤ºåŒºåŸŸ -->
  <view class="test-display" style="background-color: {{testSteps[currentStep].color === 'gradient' ? 'transparent' : testSteps[currentStep].color}}">
    <view wx:if="{{testSteps[currentStep].color === 'gradient'}}" class="gradient-bg"></view>
    <view class="test-content">
      <text class="test-desc">{{testSteps[currentStep].desc}}</text>
    </view>
  </view>

  <!-- è§‚å¯Ÿæç¤º -->
  <view class="observations">
    <view class="observations-header">
      <text class="observations-icon">â“</text>
      <text class="observations-label">è¯·è§‚å¯Ÿï¼š</text>
    </view>
    <view class="observations-list">
      <view class="observation-item" wx:for="{{testSteps[currentStep].observations}}" wx:key="index">
        <text class="observation-bullet">â€¢</text>
        <text class="observation-text">{{item}}</text>
      </view>
    </view>
  </view>

  <!-- æ“ä½œæŒ‰é’® -->
  <view class="actions">
    <button class="btn btn-no-issue" bindtap="noIssue">æ— é—®é¢˜</button>
    <button class="btn btn-has-issue" bindtap="hasIssue">æœ‰é—®é¢˜</button>
  </view>

  <!-- æ¨ªå¹…å¹¿å‘Š -->
  <view wx:if="{{false}}" class="banner-ad">
    <view class="ad-label">å¹¿å‘Š</view>
    <view class="ad-content">
      <text class="ad-text">æ¨ªå¹…å¹¿å‘Š (æµ‹è¯•ç­‰å¾…æœŸé—´æ˜¾ç¤º)</text>
    </view>
  </view>

  <!-- æ§åˆ¶æŒ‰é’® -->
  <view class="controls">
    <button class="control-btn pause-btn" bindtap="togglePause">
      <text class="control-icon">{{isPaused ? 'â–¶ï¸' : 'â¸ï¸'}}</text>
      <text class="control-text">{{isPaused ? 'ç»§ç»­æ£€æµ‹' : 'æš‚åœæ£€æµ‹'}}</text>
    </button>
    <button class="control-btn skip-btn" bindtap="skipCurrentTest">
      <text class="control-icon">â­ï¸</text>
      <text class="control-text">è·³è¿‡å½“å‰æµ‹è¯•</text>
    </button>
  </view>
</view>
