<!--lcd-detection.wxml-->
<view class="container">
  <!-- å¯¼èˆªæ  -->
  <view class="navbar">
    <view class="nav-back" bindtap="prevStep">
      <text class="nav-back-icon">â†</text>
    </view>
    <text class="nav-title">LCDæ£€æµ‹ ç¬¬{{currentStep + 1}}/{{totalSteps}}æ­¥</text>
  </view>

  <!-- ç¯å¢ƒå»ºè®® -->
  <view class="environment-tip">
    <text class="tip-icon">ğŸŒ™</text>
    <view class="tip-content">
      <text class="tip-title">ç¯å¢ƒå»ºè®®</text>
      <text class="tip-text">è¯·åœ¨æš—å®¤ç¯å¢ƒä¸­æ£€æµ‹</text>
    </view>
  </view>

  <!-- æµ‹è¯•å†…å®¹åŒºåŸŸ -->
  <view class="test-content-area">
    <!-- èƒŒå…‰å‡åŒ€åº¦æ£€æµ‹ -->
    <view wx:if="{{testSteps[currentStep].type === 'backlight-uniformity'}}" class="test-display backlight-test" style="background-color: {{testSteps[currentStep].color}}">
      <view class="test-info">
        <text class="test-step-title">[{{testSteps[currentStep].id}}. {{testSteps[currentStep].title}}]</text>
        <text class="test-step-desc">{{testSteps[currentStep].desc}}</text>
        <text class="test-instruction">è§‚å¯Ÿå±å¹•æ˜¯å¦æœ‰äº®åº¦ä¸å‡åŒ€çš„åŒºåŸŸ</text>
      </view>
    </view>

    <!-- æ¼å…‰æ£€æµ‹ -->
    <view wx:elif="{{testSteps[currentStep].type === 'light-bleed'}}" class="test-display light-bleed-test" style="background-color: {{testSteps[currentStep].color}}">
      <view class="test-info">
        <text class="test-step-title">[{{testSteps[currentStep].id}}. {{testSteps[currentStep].title}}]</text>
        <text class="test-step-desc">{{testSteps[currentStep].desc}}</text>
        <text class="test-instruction">åœ¨æš—å®¤ç¯å¢ƒä¸‹è§‚å¯Ÿå±å¹•è¾¹ç¼˜æ˜¯å¦æœ‰å…‰çº¿æ³„æ¼</text>
      </view>
    </view>

    <!-- åç‚¹æ£€æµ‹ -->
    <view wx:elif="{{testSteps[currentStep].type === 'dead-pixel'}}" class="test-display dead-pixel-test" style="background-color: {{testSteps[currentStep].colors[testSteps[currentStep].currentColorIndex]}}" bindtap="switchDeadPixelColor">
      <view class="test-info">
        <text class="test-step-title">[{{testSteps[currentStep].id}}. {{testSteps[currentStep].title}}]</text>
        <text class="test-step-desc">{{testSteps[currentStep].desc}}</text>
        <text class="test-instruction">ç‚¹å‡»åˆ‡æ¢é¢œè‰²ï¼šé»‘ç™½çº¢ç»¿è“</text>
        <text class="test-tip">ä»”ç»†è§‚å¯Ÿæ˜¯å¦æœ‰å¼‚å¸¸ç‚¹</text>
      </view>
    </view>

    <!-- è‰²å½©å‡åŒ€åº¦æ£€æµ‹ -->
    <view wx:elif="{{testSteps[currentStep].type === 'color-uniformity'}}" class="test-display color-uniformity-test" style="background-color: {{testSteps[currentStep].colors[testSteps[currentStep].currentColorIndex]}}" bindtap="switchColorUniformity">
      <view class="test-info">
        <text class="test-step-title">[{{testSteps[currentStep].id}}. {{testSteps[currentStep].title}}]</text>
        <text class="test-step-desc">{{testSteps[currentStep].desc}}</text>
        <text class="test-instruction">ç‚¹å‡»åˆ‡æ¢é¢œè‰²ï¼Œæ£€æŸ¥è‰²å½©æ˜¯å¦å‡åŒ€</text>
      </view>
    </view>
  </view>

  <!-- æ“ä½œæŒ‰é’® -->
  <view class="actions">
    <button class="btn btn-issue" bindtap="reportIssue">å‘ç°é—®é¢˜</button>
    <button class="btn btn-normal" bindtap="nextStep">æ­£å¸¸ï¼Œç»§ç»­</button>
  </view>

  <!-- è§†é¢‘å¹¿å‘Š -->
  <view wx:if="{{false}}" class="video-ad">
    <view class="ad-overlay">
      <view class="ad-content">
        <view class="ad-header">
          <text class="ad-label">è§†é¢‘å¹¿å‘Š</text>
          <text class="ad-countdown">({{videoAdCountdown}}ç§’åè‡ªåŠ¨è·³è¿‡)</text>
        </view>
        <view class="ad-body">
          <text class="ad-placeholder">ğŸ“º è§†é¢‘å¹¿å‘Šæ’­æ”¾åŒºåŸŸ</text>
          <text class="ad-desc">è¿™é‡Œæ˜¯è§†é¢‘å¹¿å‘Šå†…å®¹</text>
        </view>
        <view class="ad-footer">
          <button class="ad-skip-btn" bindtap="skipVideoAd">è·³è¿‡å¹¿å‘Š</button>
        </view>
      </view>
    </view>
  </view>

  <!-- LCDä¿®å¤å·¥å…· -->
  <view class="tools-section">
    <view class="tools-header">
      <text class="tools-icon">ğŸ› ï¸</text>
      <text class="tools-title">LCDä¿®å¤å·¥å…·</text>
    </view>
    <view class="tools-list">
      <view class="tool-item" bindtap="openDeadPixelFix">
        <text class="tool-icon">ğŸ”§</text>
        <text class="tool-name">åç‚¹ä¿®å¤è½¯ä»¶æ¨è</text>
        <text class="tool-arrow">></text>
      </view>
      <view class="tool-item" bindtap="openScreenCalibration">
        <text class="tool-icon">ğŸ¨</text>
        <text class="tool-name">å±å¹•æ ¡å‡†å·¥å…·</text>
        <text class="tool-arrow">></text>
      </view>
    </view>
  </view>
</view>
